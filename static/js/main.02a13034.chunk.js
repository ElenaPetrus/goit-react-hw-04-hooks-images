(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{27:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(5),r=n.n(o),s=(n(27),n(13)),i=n(4),u=n(7),l=n(1);function j(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(i.a)(n,2),o=a[0],r=a[1];return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),r("")):u.b.error("Nothing for request! Please type the word")},className:"SearchForm",children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{onChange:function(e){r(e.currentTarget.value)},className:"SearchForm-input",type:"text",name:"query",value:o,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}function b(e){var t=e.image,n=e.onOpen;return Object(l.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return n(t.largeImageURL)},children:Object(l.jsx)("img",{src:t.webformatURL,alt:t.tags,className:"ImageGalleryItem-image"})})}function m(e){var t=e.images,n=e.onOpen;return Object(l.jsx)("ul",{className:"ImageGallery",children:t.map((function(e,t){return Object(l.jsx)(b,{image:e,onOpen:n},t)}))})}var d=n(22),h=n.n(d);function O(){return Object(l.jsx)("div",{className:"loader",children:Object(l.jsx)(h.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80,timeout:3e3})})}function f(e){var t=e.onLoadMore;return Object(l.jsx)("div",{className:"containerButton",children:Object(l.jsx)("button",{type:"button",className:"button",onClick:t,children:"load more"})})}var g=document.querySelector("#modal-root"),p=function(e){var t=e.onClose,n=e.src,a=e.alt;Object(c.useEffect)((function(){window.addEventListener("keydown",r)})),Object(c.useEffect)((function(){return function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(l.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(l.jsx)("div",{className:"Modal",children:Object(l.jsx)("img",{src:n,alt:a,width:"1200px",height:"800px"})})}),g)},x=function(e){var t=e.message;return Object(l.jsx)("p",{children:t})},v=n(12),S=n.n(v);S.a.defaults.baseURL="https://pixabay.com/api";function y(e,t){return S.a.get("/?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(t,"&per_page=12&key=").concat("23028809-0eadab1d20ccc1cb386303aa3")).then((function(e){return e.data.hits}))}n(67);function w(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)([]),r=Object(i.a)(o,2),b=r[0],d=r[1],h=Object(c.useState)(1),g=Object(i.a)(h,2),v=g[0],S=g[1],w=Object(c.useState)(null),N=Object(i.a)(w,2),k=N[0],C=N[1],E=Object(c.useState)(!1),I=Object(i.a)(E,2),L=I[0],q=I[1],F=Object(c.useState)("idle"),M=Object(i.a)(F,2),T=M[0],G=M[1],R=Object(c.useState)(null),U=Object(i.a)(R,2),B=U[0],D=U[1];Object(c.useEffect)((function(){v>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}));return Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{query:n,onSubmit:function(e){a(e),G("pending"),S(1),y(e,1).then((function(e){if(e.length<1)return u.b.error("Nothing was found.");d(e)})).catch((function(e){D(e),G("rejected")}))},resetState:function(){d([]),S(1),D(null)}}),Object(l.jsx)(m,{images:b,page:v,onOpen:function(e){q(!0),C(e)}}),"pending"===T&&Object(l.jsx)(O,{}),b.length>0&&Object(l.jsx)(f,{onLoadMore:function(){y(n,v+1).then((function(e){d((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),S(v+1),G("resolved")}))}}),L&&Object(l.jsx)(p,{onClose:function(){q(!1)},src:k,alt:n}),Object(l.jsx)(u.a,{autoClose:2e3}),"rejected"===T&&Object(l.jsx)(x,{message:B})]})}r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.02a13034.chunk.js.map